---
title: "Oficina de R - Intermediário"
subtitle: "R-Ladies São Paulo"
date: "23/02/2019"
output:
  xaringan::moon_reader:
    chakra: libs/remark-latest.min.js
    css: [default, rladies, robot-fonts]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE, fig.align = "center")
```
class:  center, middle

##Organização e realização:
```{r echo=FALSE, fig.align='center', out.width="15%"}
knitr::include_graphics("img/rladies.jpeg")
```
[R-Ladies São Paulo](https://www.meetup.com/R-Ladies-Sao-Paulo)

##Apoio:

```{r echo=FALSE, fig.align='center', out.width="50%"}
#knitr::include_graphics("img/???.png")
```

[???](???)

---
class:  center, middle
# O que é o R-Ladies?

R-Ladies é uma organização mundial que promove a diversidade de gênero na comunidade da linguagem R.
R-Ladies São Paulo integra, orgulhosamente, a organização R-Ladies Global, em São Paulo.

# Como?

Através de meetups e mentorias em um ambiente seguro e amigável.

Nosso principal objetivo é promover a linguagem computacional estatística R compartilhando conhecimento, assim, quem tiver interesse na linguagem será bem-vinda, independente do nível de conhecimento. 


Fonte: [About us - R-Ladies](https://rladies.org/about-us/), [Meetup R-Ladies São Paulo](https://www.meetup.com/R-Ladies-Sao-Paulo/)

---
class:   center, middle
# Para quem?
Nosso principal público-alvo são as pessoas que se identificam com o gênero feminino, portanto, mulheres cis, mulheres trans, bem como pessoas não-binárias e queer.

# Missão

Como uma iniciativa de diversidade, a missão das R-Ladies é alcançar uma representação proporcional de pessoas de gêneros atualmente sub-representados na comunidade R, incentivando, inspirando e caacitando-as.



Fonte: [About us - R-Ladies](https://rladies.org/about-us/), [Meetup R-Ladies São Paulo](https://www.meetup.com/R-Ladies-Sao-Paulo/)



---
class:   center, middle
## Como o R-Ladies começou?
```{r echo=FALSE, fig.align='center', out.width="20%"}
knitr::include_graphics("img/gabriela.jpeg")
```
**[Gabriela de Queiroz](https://github.com/gdequeiroz)** fundou o R-Ladies no dia **1 de outubro de 2012**. Ela queria retribuir à comunidade depois de ir a vários encontros e aprender muito de graça. O primeiro encontro R-Ladies foi realizado em ** San Francisco, Califórnia (Estados Unidos) **. Nos anos seguintes, mais capítulos do R-Ladies começaram em todo o mundo.

Fonte: [About us - R-Ladies](https://rladies.org/about-us/history/)


---
class:center, middle

```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("img/shiny2.png")
```


Fonte: [R-Ladies Shiny App](https://gqueiroz.shinyapps.io/rshinylady/)  (26/01/2019)
---
class:   center, middle
# Código de conduta


O R-Ladies dedica-se a proporcionar uma experiência livre de assédio para todos. Não toleramos nenhuma forma de assédio aos participantes.


[Código de conduta - R-Ladies](https://github.com/rladies/starter-kit/wiki/Code-of-Conduct#portuguese)


---
class:  center, middle
# Como saber mais?

[Meetup](https://www.meetup.com/pt-BR/R-Ladies-Sao-Paulo)

Twitter: [@RLadiesGlobal](https://twitter.com/rladiesglobal)

Website: [https://rladies.org/](https://rladies.org/)

R-Ladies LATAM Blog (Latin America) - Em breve!


[R-Ladies - How do get involved](https://rladies.org/about-us/help/)

---
class:   center, middle

# R-Ladies São Paulo


```{r echo=FALSE, fig.align='center', out.width="70%"}
knitr::include_graphics("img/1meetupsp.jpeg")
```
**Primero Meetup R-Ladies em São Paulo - Agosto/2018**


---
class:   middle
# Cronograma de hoje

## Manhã:

- Relembrando - pipe e dplyr

- ggplot2 

## Tarde:

- ?

---

# O Tidyverse

É uma coleção de pacotes R projetados para a ciência de dados. Todos os pacotes compartilham uma mesma filosofia de desenvolvimento, sintaxe e estruturas de dados.

```{r eval=FALSE, include=TRUE}
install.packages("tidyverse") #para instalar o tidyverse
library(tidyverse) #para utilizar o tidyverse
```

```{r echo=FALSE, fig.align='center', out.width="60%"}
knitr::include_graphics("img/Tidyverse_packages.png")
```

---
# Relembrando: Pipe (%>%)

**Atalho**: CTRL + SHIFT + M

---
# Relembrando: dplyr

A ideia do pacote **dplyr** é tornar a manipulação de dados explícita utilizando verbos que indicam a ação a ser realizada. 

O encadeamento dos verbos com o banco de dados é realizado com o operador **pipe**: **%>%**

O dplyr foi desenhado para trabalhar com o operator pipe **%>%** do pacote magritrr.
---

# Os 6 verbos do dplyr 

- **filter**(): seleciona linhas

- **arrange**(): ordena de acordo com uma ou mais colunas 

- **select**(): seleciona colunas 

- **mutate**(): cria/modifica colunas 

- **summarise**(): sumariza/agrega colunas

- **group_by**(): agrupa colunas



---
# ggplot2 

- É um pacote usado para visualização de dados.

- É uma implementação da Grammar of Graphics de Leland Wilkinson - um esquema geral para visualização de dados que divide gráficos em componentes semânticos como escalas e camadas.

- [Cheatsheet em português](https://www.rstudio.com/wp-content/uploads/2016/03/ggplot2-cheatsheet-portuguese.pdf)

- Material interessante: [Code Your Graph - A Workshop on Visualizing Your Data with ggplotby Alison Presmanes Hill & Julianne Myers](https://alison.rbind.io/html/jamboree_heart_ggplot.html)

```{r echo=FALSE}
knitr::include_graphics("img/ggplot2.png")
```

---

# ggplot2 - o pacote dos gráficos

```{r echo=FALSE, out.width="50%"}
knitr::include_graphics("img/ggplot_masterlist_23.png")
```

```{r echo=FALSE, out.width="50%"}
knitr::include_graphics("img/ggplot_masterlist_49.png")
```

[Fonte: r-statistics.co](http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html)
---
# Carregar a base de dados
```{r, message=FALSE}
library(tidyverse)

# Uma outra opção é carregar somente o(s) pacote(s) que irá utilizar.
#library(dplyr)

# Importa o arquivo csv para o objeto df_titanic
df_titanic <- read_csv("data/titanic.csv")

```

---
** Exemplos passo a passo: Exemplo 1 - geom_bar **
```{r warning=FALSE}
df_titanic %>% 
ggplot()
```
---
** Exemplos passo a passo: Exemplo 1 - geom_bar **
```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sobreviveu))
```
---
** Exemplos passo a passo: Exemplo 1 - geom_bar **
```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sobreviveu))+
geom_bar()
```
---
** Exemplo 1 - geom_bar **
```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sobreviveu, fill=sexo))+
geom_bar()
```

---
** Exemplo 1 - geom_bar **
```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sobreviveu, fill=sexo))+
geom_bar()+
  theme_bw()
```
---

```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sobreviveu, fill=sexo)) +
geom_bar() +
  theme_bw() +
  labs(
    title = "Título do gráfico",
    x = "Sobreviveu", 
    y = "Contagem",
    fill = "Sexo"
  )
```
---

```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sobreviveu, fill=sexo)) +
geom_bar() +
theme_bw() +
  labs(
    title = "Título do gráfico",
    x = "Sobreviveu", 
    y = "Contagem",
    fill = "Sexo") +  
  facet_wrap(~embarque)
```
---

** Exemplo - geom_boxplot**
```{r warning=FALSE}
df_titanic %>% 
ggplot(aes(x=sexo, y=idade, fill=sexo))+
geom_boxplot()
```
---
** Usar dplyr + ggplot2** - Gapminder dataset
```{r}
library(gapminder)
head(gapminder)

```

---
** Usar dplyr + ggplot2** - Gapminder dataset
```{r}
gapminder %>% 
  filter(year == 2007) %>% 
  ggplot(aes(x = lifeExp, y = gdpPercap, color = continent))+
  geom_point(show.legend = FALSE)+
  scale_y_log10()+
  facet_wrap(~continent) +
  theme_bw() 

```

---







# Referências


- https://r4ds.had.co.nz

- https://www.curso-r.com/material/

- https://www.tidyverse.org

- http://brunaw.com/slides/rladies-sp/13-08-2018/meetup.html#1

- https://github.com/MaryMS/2018-11-R-Course-FatecZS

- https://beatrizmilz.github.io/talk/oficina_intro_r_ufabc_2018/

... 


A apresentação foi feita em [xaringan](https://github.com/yihui/xaringan), um pacote do R! :)


---

class: middle, inverse

# Muito obrigada!

R-Ladies São Paulo